import{N as i,a1 as f,e as S,o as n,c as o,g as r,t as _,P as c,n as g,A as L,h as x,i as M,_ as j,H as P,F as d,q as h,I as $,u as z,b as V,d as q,s as H,p as J}from"./all.35cc259a.js";import{g as K}from"./constants.b2118ccc.js";async function R(){return await(await fetch(K+"timings.json",{})).json()}const U=await R(),A=U,C=i(!1),T=i("Map_02"),k=i(),l=i(0),G=i([0,3,5,7,10]),w=i(5),u=i([]),p=i([]),y=i(null),E=e=>A.mapTimings[e],D=e=>{e=e-l.value,e<0&&(e=e*-1);let a=0;e>=60&&(a=Math.floor(e/60),e=e-a*60);const s=[];return a>0&&s.push(a+"m"),s.push(e+"s"),s.join(" ")};f(()=>Math.floor(l.value/m.value));const F=f(()=>{const e=E(T.value).phases;let a=0;const s=[];return e.forEach(t=>{s.push({...t,startTime:a}),a+=t.duration}),s.sort((t,v)=>t.startTime-v.startTime),console.log(s),s}),N=f(()=>E(T.value).warnings),Q=f(()=>{const e=[];return F.value.forEach(a=>{e.push({name:a.name,skipToTime:a.startTime})}),N.value.forEach(a=>{e.push({name:a.name,skipToTime:a.time})}),e.sort((a,s)=>a.skipToTime-s.skipToTime),e}),m=f(()=>E(T.value).totalTime),W=f(()=>{const e=[];for(const[a,s]of Object.entries(A.mapTimings))e.push({key:a,name:s.name});return e}),b=e=>(e-l.value)/m.value,X=function(){l.value+=1,u.value.forEach(e=>{e.startTime<=l.value&&(e.startTime+=m.value,y.value=e),e.left=b(e.startTime)}),p.value.forEach(e=>{e.startTime<=l.value&&(e.startTime+=m.value),e.left=b(e.startTime)}),u.value.sort((e,a)=>e.startTime-a.startTime),p.value.sort((e,a)=>e.startTime-a.startTime)},Y=function(e){T.value=e,C.value=!1,l.value=0},Z=function(e){w.value=e},ee=function(e){k.value!==void 0&&clearInterval(k.value),l.value=e+w.value,u.value=[];let a=0;F.value.forEach(s=>{let t=0+a;l.value>=t&&(t+=m.value),u.value.push({name:s.name,duration:s.duration,startTime:t,left:b(t),gameplay:s.gameplay}),a+=s.duration}),p.value=[],N.value.forEach(s=>{let t=s.time;console.log(t),l.value>=t&&(t+=m.value),p.value.push({name:s.name,startTime:t,left:b(t)})}),u.value.sort((s,t)=>s.startTime-t.startTime),p.value.sort((s,t)=>s.startTime-t.startTime),y.value=u.value[u.value.length-1],k.value=setInterval(X,1e3),C.value=!0},te=e=>(x("data-v-fc57bcb7"),e=e(),M(),e),ae=te(()=>r("div",{class:"cycle-tracker__timer-bubble__marker"},[r("div",null,"\xA0")],-1)),se={class:"cycle-tracker__timer-bubble__event"},ce={class:"cycle-tracker__timer-bubble__time"},ne=S({__name:"TimerBubble",props:{phase:null,secondary:{type:Boolean,default:!1}},setup(e){return(a,s)=>(n(),o("li",{class:g(["cycle-tracker__timer-bubble",{secondary:e.secondary}]),key:e.phase.name,style:L({left:`${(e.phase.left*100).toFixed(2)}%`})},[ae,r("div",se,_(e.phase.name),1),r("div",ce,_(c(D)(e.phase.startTime)),1)],6))}});const B=j(ne,[["__scopeId","data-v-fc57bcb7"]]),I=e=>(x("data-v-d579b6f8"),e=e(),M(),e),oe={class:"cycle-tracker__navbars"},re=I(()=>r("div",{class:"cycle-tracker__note"},"Current Map",-1)),le={class:"cycle-tracker__buttons"},ie=["onClick"],ue=I(()=>r("div",{class:"cycle-tracker__note"},"Time Offset",-1)),_e={class:"cycle-tracker__buttons"},me=["onClick"],ve=I(()=>r("div",{class:"cycle-tracker__note"},"Event In-game",-1)),de={class:"cycle-tracker__buttons"},pe=["onClick"],fe={class:"cycle-tracker__timer"},he={key:0,class:"cycle-tracker__timeline"},ye={class:"cycle-tracker__timer-list"},Te={key:0,class:"cycle-tracker__current-message"},be={key:1,class:"cycle-tracker__start-message"},ke=S({__name:"CycleTimer",setup(e){return window.history.pushState({},document.title,location.pathname.replace(".html","")),P(),(a,s)=>(n(),o(d,null,[r("div",oe,[re,r("div",le,[(n(!0),o(d,null,h(c(W),(t,v)=>(n(),o("button",{key:v,class:g({"btn-active":t.key===c(T)}),type:"button",onClick:O=>c(Y)(t.key)},_(t.name),11,ie))),128))]),ue,r("div",_e,[(n(!0),o(d,null,h(c(G),(t,v)=>(n(),o("button",{key:v,class:g({"btn-active":t===c(w)}),type:"button",onClick:O=>c(Z)(t)}," +"+_(t)+" seconds ",11,me))),128))]),ve,r("div",de,[(n(!0),o(d,null,h(c(Q),t=>(n(),o("button",{key:`start_${t.name}`,type:"button",onClick:v=>c(ee)(t.skipToTime)},_(t.name),9,pe))),128))])]),r("div",fe,[c(C)?(n(),o("div",he,[r("ul",ye,[(n(!0),o(d,null,h(c(u),t=>(n(),$(B,{key:t.name,phase:t},null,8,["phase"]))),128)),(n(!0),o(d,null,h(c(p),t=>(n(),$(B,{key:t.name,phase:t,secondary:!0},null,8,["phase"]))),128))]),c(y)?(n(),o("div",Te,_(c(y).name)+" since "+_(c(D)(c(y).startTime-c(m))),1)):z("",!0)])):(n(),o("div",be," Click on a event button when a event occures ingame and the timer will start. "))])],64))}});const ge=j(ke,[["__scopeId","data-v-d579b6f8"]]),Ce=V(ge).component("font-awesome-icon",q.FontAwesome).use(H).use(J);Ce.mount("main");
