import{_ as w,N as x,O as R,r as M,o as c,c as u,g as n,B as E,P as g,V as I,I as G,m as v,C as K,F as S,q as C,n as k,t as f,u as B,Q as j,R as z,W as p,h as W,i as O,X as b,Y,Z as ee,w as te,z as le,$ as q,a0 as A,D as V,e as ce,l as de,A as se,a as ie,H as ue,b as me,d as he,s as pe,p as _e}from"./all.35cc259a.js";import{a as P,w as L,t as $,b as T}from"./data.c2f5b53d.js";import{c as Q,u as fe,i as ge,l as ve,r as y,k as ne,d as Se,f as be}from"./utils.4fee5d06.js";import{h as H}from"./data.aeed7cc1.js";import"./constants.b2118ccc.js";const ye={class:"container"},Me=["src"],De={key:0,class:"modal__bg"},Ce={class:"weapon-container"},Ae={class:"armor-container"},Te=["onClick"],ke=["src"],Pe={name:"ArmorSelector",data(){return{selectedArmor:I,armorData:P,showModal:!1}},methods:{armorFilter(e){let a={};a.PlayerDefault={armorAmount:0,rarity:"None"};for(let t in e)t.includes("Test")||t.includes("Tactical")||t.includes("Restoration")||t.includes("Altered")||t.includes&&(a[t]=e[t]);return a.Shield_Altered_03=e.Shield_Altered_03,a},armorImage(e){return e.includes("PlayerDefault")?"No_Armor":e.includes("Altered_03")?"Shield_Forged":e.includes("01")?e.includes("Restoration")?"Shield_Uncommon":"Shield_Common":e.includes("02")?e.includes("Restoration")?"Shield_Rare":"Shield_Uncommon":e.includes("03")?"Shield_Rare":e.includes("04")||e.includes("05")?"Shield_Epic":"Shield_Common"},armorName(e){return e.includes("PlayerDefault")?"None":e.includes("Tactical")?this.armorData[e].rarity+" Tactical Armor":e.includes("Restoration")?this.armorData[e].rarity+" Restoration Armor":this.armorData[e].rarity+" Armor"},classGiver(e){let a="";return a+=P[e].rarity.toLowerCase(),I.selected==e&&(a+=" active"),a}}},$e=Object.assign(Pe,{setup(e){const a=x(!1),t=x(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("div",ye,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},[n("img",{src:"calc-images/"+l.armorImage(g(I).selected)+".png"},null,8,Me)])]),(c(),G(z,{to:"#modal"},[v(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",De,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[v(o,{icon:"fa-solid fa-xmark"})]),n("div",Ce,[n("div",Ae,[(c(!0),u(S,null,C(l.armorFilter(g(P)),(i,r)=>(c(),u("div",{class:k(["armor-selector",l.classGiver(r)]),onClick:h=>g(I).changeSelected(r)},[n("img",{src:"calc-images/"+l.armorImage(r)+".png",class:"armor-image"},null,8,ke),n("span",null,f(l.armorName(r))+" ("+f(i.armorAmount)+") ",1)],10,Te))),256))])])],512)])):B("",!0)]),_:1})]))],64)}}}),xe=w($e,[["__scopeId","data-v-d454c8cf"]]),we=""+new URL("../calc-images/Weapon_Icon.png",import.meta.url).href;const Be=e=>(W("data-v-9d6c68d0"),e=e(),O(),e),Le={class:"container"},Ie=Be(()=>n("img",{src:we},null,-1)),We=[Ie],Oe={key:0,class:"modal__bg"},He={class:"weapon-container"},Ne=["onClick"],Fe=["src"],Ve={class:"weapon-name"},Re={name:"WeaponSelector",data(){return{weaponData:L,sortedData:[],selectedWeapons:p,showWeaponModal:!1}},mounted(){let e=[];for(const[t,l]of Object.entries(this.weaponData))!l||!l.tags||l.tags.length==0||l.tags[0]==="Tools"||t.includes("scrappy")||l.inGameName=="HAZE"||l.inGameName=="KARLA"||l.inGameName=="FF4 Detonator"||e.push(t);let a=[];for(const t in e){const l=this.weaponData[e[t]];if(l==null)continue;let s=[l.inGameName,e[t]];a.push(s)}a.sort(),this.sortedData=a}},Ee=Object.assign(Re,{setup(e){const a=x(!1),t=x(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("div",Le,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},We)]),(c(),G(z,{to:"#modal"},[v(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",Oe,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[v(o,{icon:"fa-solid fa-xmark"})]),n("div",He,[(c(!0),u(S,null,C(l.sortedData,i=>(c(),u("div",{class:k(["weapon-selector",{active:g(p).list.includes(i[1])}]),onClick:r=>g(p).toggleSelected(i[1])},[n("img",{src:"calc-images/"+i[0]+".png",class:"weapon-image"},null,8,Fe),n("span",Ve,f(i[0]),1)],10,Ne))),256))])],512)])):B("",!0)]),_:1})]))],64)}}}),Ge=w(Ee,[["__scopeId","data-v-9d6c68d0"]]);const Ke={class:"container"},je=["src"],ze={key:0,class:"modal__bg"},Ue={class:"weapon-container"},Ye={class:"target-container"},qe=["onClick"],Ze={key:0},Je=["src"],Xe={name:"WeaponSelector",data(){return{targetData:$,selectedTarget:b,showTargetModal:!1,creatureNames:Q}},mounted(){}},Qe=Object.assign(Xe,{setup(e){const a=x(!1),t=x(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("div",Ke,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},[n("img",{src:"calc-images/"+g(b).selected+".png",class:"button-image"},null,8,je)])]),(c(),G(z,{to:"#modal"},[v(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",ze,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[v(o,{icon:"fa-solid fa-xmark"})]),n("div",Ue,[n("div",Ye,[(c(!0),u(S,null,C(g($),(i,r)=>(c(),u("div",{class:k(["target-selector",{active:g(b).selected==r}]),onClick:h=>g(b).changeSelected(r)},[Object.keys(g(Q)).includes(r)?(c(),u("div",Ze,[n("img",{src:"calc-images/"+r+".png",class:"target-image"},null,8,Je),n("span",null,f(g(Q)[r]),1)])):B("",!0)],10,qe))),256))])])],512)])):B("",!0)]),_:1})]))],64)}}}),et=w(Qe,[["__scopeId","data-v-a90a8520"]]);const tt={data(){return{HSValue:0,selectedHSValue:Y,selectedTarget:b,selectedWeakspotValue:ee,targetData:$}},methods:{getWeakspotList(e){let a={};for(let t in e){if(t.includes("Ankle")&&!t.includes("WeakSpot"))continue;let l=t.split("_")[0];l=l.replace(/[0-9]/g,""),(l.charAt(l.length-1)=="A"||l.charAt(l.length-1)=="C")&&(l=l.slice(0,-1)),l=="NeckSpike"&&(l="Neck Spike"),l=="EggSack"&&(l="Egg Sack"),!["Neck","Spine"].includes(l)&&(a[l]=e[t])}return a},getWeakspotValue(e){let a=$[b.selected].weakSpotMultiplier;return e==1?1*a:e}},watch:{selectedTarget:{deep:!0,handler(){const e=document.querySelectorAll(".container .radioButton");if(!!e)for(let a in e)e[a].checked&&(e[a].checked=!1)}}}},at=e=>(W("data-v-47d8884b"),e=e(),O(),e),st={class:"container"},lt={key:0},it=at(()=>n("h2",null," Weakspot to hit",-1)),nt=["name","id"],ot=["for"],rt=["name","id","onInput"],ct=["for"];function dt(e,a,t,l,s,o){return c(),u("div",st,[n("h2",null," Weakspot Percentage: "+f(s.HSValue)+"% ",1),te(n("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":a[0]||(a[0]=i=>s.HSValue=i),onInput:a[1]||(a[1]=i=>s.selectedHSValue.changeValue(s.HSValue))},null,544),[[le,s.HSValue]]),s.selectedTarget.selected!=="PlayerDefault"?(c(),u("div",lt,[it,n("div",null,[n("input",{value:!0,checked:"",type:"radio",class:"radioButton default",name:s.selectedTarget.selected+"-weakspotRadios",key:"'none'",id:s.selectedTarget.selected+"none",onInput:a[2]||(a[2]=i=>s.selectedWeakspotValue.changeValue(1))},null,40,nt),n("label",{for:s.selectedTarget.selected+"none"},"None (1\xD7)",8,ot)]),(c(!0),u(S,null,C(o.getWeakspotList(s.targetData[s.selectedTarget.selected].damageAreas),(i,r)=>(c(),u("div",null,[(c(),u("input",{type:"radio",class:"radioButton",name:s.selectedTarget.selected+"-weakspotRadios",key:r,id:s.selectedTarget.selected+r,onInput:h=>s.selectedWeakspotValue.changeValue(o.getWeakspotValue(i))},null,40,rt)),n("label",{for:s.selectedTarget.selected+r},f(r)+" ("+f(o.getWeakspotValue(i))+"\xD7)",9,ct)]))),256))])):B("",!0)])}const oe=w(tt,[["render",dt],["__scopeId","data-v-47d8884b"]]);const ut={data(){return{distance:0,selectedDistance:q}}},mt=e=>(W("data-v-aaac3e7c"),e=e(),O(),e),ht={class:"container"},pt=mt(()=>n("p",null," This affects if damage falls off at range. See the chart below. ",-1));function _t(e,a,t,l,s,o){return c(),u("div",ht,[n("h2",null," Distance: "+f(s.distance)+"m",1),te(n("input",{type:"range",min:"0",max:"100","onUpdate:modelValue":a[0]||(a[0]=i=>s.distance=i),onInput:a[1]||(a[1]=i=>s.selectedDistance.changeValue(s.distance))},null,544),[[le,s.distance]]),pt])}const re=w(ut,[["render",_t],["__scopeId","data-v-aaac3e7c"]]);const ft={components:{ArmorSelector:xe,WeaponSelector:Ge,TargetSelector:et,AccuracySelector:oe,DistanceSelector:re}},gt=e=>(W("data-v-5920c9e8"),e=e(),O(),e),vt={class:"content"},St=gt(()=>n("h2",null," Options ",-1)),bt={class:"button-container"};function yt(e,a,t,l,s,o){const i=M("WeaponSelector"),r=M("ArmorSelector"),h=M("TargetSelector"),m=M("AccuracySelector"),_=M("DistanceSelector");return c(),u("section",null,[n("div",null,[n("div",vt,[St,n("div",bt,[n("div",null,[v(i)]),n("div",null,[v(r)]),n("div",null,[v(h)])]),v(m),v(_)])])])}const Mt=w(ft,[["render",yt],["__scopeId","data-v-5920c9e8"]]),N={savedAttachmentList:{},getAttachments:function(e){if(this.savedAttachmentList[e])return this.savedAttachmentList[e];let a=L[e],t=a.tags.concat(["Weapon.Ammo."+a.ammoType]),l=[];for(let s in T){let o=T[s].compatible;!a.modSlots.includes(T[s].type)||fe.includes(T[s].type)||(o.length===0&&l.push(s),o.some(i=>t.includes(i))&&l.push(s))}return this.savedAttachmentList[e]=l,l},savedGroupedAttachmentList:{},groupAttachments:function(e){if(this.savedGroupedAttachmentList[e])return this.savedGroupedAttachmentList[e];let a=this.getAttachments(e),t={};for(let l in T){if(!a.includes(l)||l.startsWith("No"))continue;let s=T[l].type;t[s]||(t[s]=[]),t[s].push(l)}return this.savedGroupedAttachmentList[e]=t,t},getAttachmentEffects:function(e){let a=A.list[e],t=[];for(let o in a){let i=T[a[o]].effects;for(let r in i)t.push(i[r])}let l={};for(let o in t){let i=t[o].attribute;ge.includes(i)||(i.startsWith("Weapon")&&(i=i.replace("Weapon",""),i=ve(i)),i=="clipSize"&&(i="ammoInClip"),i=="amountOfShots"&&(i="amountOfImmediateFires"),i=="damageDirect"&&(i="directDamage"),i=="damageRange"&&(l.FalloffStart=[{value:t[o].value+L[e].FalloffStart,type:t[o].modifierType}],l.FalloffEnd=[{value:t[o].value+L[e].FalloffStart,type:t[o].modifierType}]),console.log(i),l[i]||(l[i]=[]),l[i].push({value:t[o].value,type:t[o].modifierType}))}let s={};for(let o in l){let i=0,r="";for(let h in l[o])if(l[o][h].type=="Additive"&&(i+=l[o][h].value,r="Additive"),l[o][h].type=="Multiplicitive_PreAdd"&&(i+=l[o][h].value-1,r="Multiplicitive_PreAdd"),l[o][h].type=="Override"){s[o]=l[o][h];break}r=="Additive"?s[o]={value:i,type:"Additive"}:r=="Multiplicitive_PreAdd"&&(s[o]={value:1+i,type:"Multiplicitive_PreAdd"})}return s}},d={damagePerMag:function(e,a){return this.totalClicksPerMag(e)*this.totalDamagePerClick(e,a)},roundsPerMinute:function(e){const a=this.roundsPerClick(e)*this.totalClicksPerMag(e);return 60/this.totalTimeToEmptyMag(e)*a},roundsPerMinuteReloadAdjusted:function(e){const a=this.roundsPerClick(e)*this.totalClicksPerMag(e);return 60/(this.totalTimeToEmptyMag(e)+this.s(e,"reloadTime"))*a},damagePerSecond:function(e){return this.damagePerMag(e)/this.totalTimeToEmptyMag(e)},damagePerSecondReloadAdjusted:function(e){return this.damagePerMag(e)/(this.totalTimeToEmptyMag(e)+this.s(e,"reloadTime"))},totalTimeToEmptyMag:function(e){return e=="WP_G_HVY_Beam_01"?this.s(e,"ammoInClip")/this.s(e,"ammoPerBullet")*this.s(e,"refireTime")+this.s(e,"spinupTime")-this.s(e,"refireTime"):this.totalTimePerClick(e)*this.totalClicksPerMag(e)-this.s(e,"refireTime")},shotsToKill:function(e,a,t,l="normal"){let s;a!==void 0?s=$.PlayerDefault.health:s=$[b.selected].health;let i=s/this.totalDamagePerClick(e,a,t,l)*(this.s(e,"amountOfBurst")+1);return i%Math.floor(i)<1e-6?Math.floor(i):Math.ceil(i)},timeToKill:function(e){let a=$[b.selected].health,t=this.shotsToKill(e),l=t/(this.s(e,"amountOfBurst")+1);if(l==1)return this.s(e,"spinupTime");let s=Math.floor(l)*this.totalTimePerClick(e),o=t%(this.s(e,"amountOfBurst")+1),i=0;o&&(i=this.s(e,"spinupTime")+o*this.s(e,"burstInterval")-this.s(e,"burstInterval"));let r=s+i,h=this.damagePerMag(e),m=a/h;return r+=Math.floor(m)*this.s(e,"reloadTime"),e=="WP_G_HVY_Beam_01"&&(r=l*this.s(e,"refireTime")+Math.ceil(m)*this.s(e,"spinupTime")+Math.floor(m)*this.s(e,"reloadTime")),o===0&&(r=r-Math.ceil(m)*this.s(e,"refireTime")),r},roundsPerClick:function(e){return this.s(e,"amountOfBurst")+1},totalDamagePerClick:function(e,a,t,l){return(this.s(e,"directDamage")+this.s(e,"radialDamage"))*this.getShotModifiers(e,a,t,l)*this.s(e,"amountOfImmediateFires")*(this.s(e,"amountOfBurst")+1)},totalTimePerClick:function(e){return this.s(e,"amountOfBurst")*(this.s(e,"burstInterval")>0?this.s(e,"burstInterval"):0)+this.s(e,"refireTime")+this.s(e,"spinupTime")},totalClicksPerMag:function(e){return this.s(e,"ammoInClip")/this.s(e,"ammoPerBullet")/(this.s(e,"amountOfBurst")+1)},damageOnBodyShot:function(e,a){return(this.s(e,"directDamage")+this.s(e,"radialDamage")*this.s(e,"amountOfImmediateFires"))*this.penetrationMultiplier(e,a)*this.falloffMultiplier(e,a)*this.creatureDamageMult(e)},damageOnWeakSpotShot:function(e,a){return(this.s(e,"directDamage")+this.s(e,"radialDamage")*this.s(e,"amountOfImmediateFires"))*this.penetrationMultiplier(e,a)*this.falloffMultiplier(e,a)*this.creatureDamageMult(e)*this.s(e,"weakDamageMultiplier")},penetrationMultiplier:function(e,a){let t=$[b.selected],l;a!==void 0?(l=this.s(e,"penetration")-a,t=$.PlayerDefault):b.selected=="PlayerDefault"&&b.selected!="None"?l=this.s(e,"penetration")-P[I.selected].armorAmount:l=this.s(e,"penetration")-t.armorValue;let s=t.health,o=t.armorConstant,i=t.minDamageReduction,r=t.maxDamageReduction,h=s+Math.abs(l)*o*s,m=s/h;return l>0&&(m=2-m),m>r&&(m=r),m<i&&(m=i),m},falloffMultiplier:function(e){let a=parseInt(q.distance)*100,t=this.s(e,"FalloffStart"),l=this.s(e,"FalloffEnd"),s=this.s(e,"FalloffMultiplier");if(a>=l)return s;if(a<=t)return 1;let o=a-t,i=l-t;return 1-o/i*(1-s)},headShotMult:function(e,a,t="normal"){if(b.selected!="PlayerDefault"&&t=="normal"){let o=Y.HSValue;return a&&(o=a),1+(ee.value-1)*o/100}let l=this.s(e,"weakDamageMultiplier"),s=Y.HSValue;return a&&(s=a),1+(l-1)*s/100},creatureDamageMult:function(e){if(b.selected!="PlayerDefault"){const a=N.getAttachmentEffects(e);if(a.DamageEnemyMultiplier)return a.DamageEnemyMultiplier.value}return 1},getShotModifiers:function(e,a,t,l="normal"){return this.headShotMult(e,t,l)*this.penetrationMultiplier(e,a)*this.falloffMultiplier(e)*this.creatureDamageMult(e)},savedWeaponData:{},s:function(e,a){let t;this.savedWeaponData[e]?t=this.savedWeaponData[e]:(t=L[e],this.savedWeaponData[e]=t);let l=N.getAttachmentEffects(e),s=t[a];if(l.hasOwnProperty(a)){let o=l[a];if(o.type=="Additive")return s+o.value;if(o.type=="Multiplicitive_PreAdd")return s*o.value;if(o.type=="Override")return o.value}else return s}};let Dt={Chart:{colorSet:"colorSet1"},Title:{fontFamily:"sans-ui",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:"Refinery, Helvetica",labelFontFamily:"Refinery, Helvetica",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:"Refinery, Helvetica"},DataSeries:{indexLabelFontColor:"red",indexLabelFontFamily:"Refinery, Helvetica",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}};CanvasJS.addTheme("Pnoexz",Dt);function F(){let e=[],a=$[b.selected],t=a.health,l=a.armorConstant,s=a.minDamageReduction,o=a.maxDamageReduction;for(let h=-40;h<=40;h++){let m=t+Math.abs(h)*l*t,_=t/m;h>0&&(_=2-_),_>o&&(_=o),_<s&&(_=s),e.push({x:h,y:y(_)})}let i=[{type:"spline",dataPoints:e,showInLegend:!0,legendText:"DMG Multiplier",lineThickness:2}];for(let h in p.list){let m=p.list[h],_;b.selected=="PlayerDefault"&&b.selected!="None"?_=d.s(m,"penetration")-P[I.selected].armorAmount:_=d.s(m,"penetration")-a.armorValue;let D=y(d.penetrationMultiplier(m));i.push({type:"spline",showInLegend:!0,legendText:L[p.list[h]].inGameName,dataPoints:[{x:_,y:D,indexLabel:String(D),markerSize:10,indexLabelPlacement:"auto"}],indexLabelPlacement:"inside"})}new CanvasJS.Chart("penChart",{title:{text:"Penetration"},theme:"Pnoexz",legend:{horizontalAlign:"center",fontSize:15,verticalAlign:"top"},axisY:{title:"damage multiplier",includeZero:!0,minimum:0,maximum:2,interval:.2},axisX:{title:"penetration - armor",gridThickness:1},data:i}).render()}function U(){let e=[];for(let t in p.list){let l=p.list[t],s=[];for(let o=0;o<=200;o++){let i=o*100,r=d.s(l,"FalloffStart"),h=d.s(l,"FalloffEnd"),m=d.s(l,"FalloffMultiplier");if(i>=h)s.push({x:o,y:m});else if(i<=r)s.push({x:o,y:1});else{let _=i-r,D=h-r;s.push({x:o,y:y(1-_/D*(1-m))})}}e.push({type:"spline",showInLegend:!0,legendText:L[l].inGameName,dataPoints:s,lineThickness:3})}new CanvasJS.Chart("falloffChart",{title:{text:"Falloff"},theme:"Pnoexz",legend:{horizontalAlign:"center",fontSize:15,verticalAlign:"top"},axisY:{title:"falloff multiplier",includeZero:!0,minimum:0,maximum:1.2,interval:.1},axisX:{title:"distance (m)",gridThickness:1,stripLines:[{value:q.distance,showOnTop:!0}]},data:e}).render()}const Ct=""+new URL("../calc-images/Attachment_Icon.png",import.meta.url).href;const Z=e=>(W("data-v-4b235e82"),e=e(),O(),e),At=Z(()=>n("img",{src:Ct},null,-1)),Tt=[At],kt={class:"attachment-list"},Pt=Z(()=>n("p",null," Selected attachments: ",-1)),$t=["onClick"],xt={key:0},wt={key:0,class:"modal__bg"},Bt=Z(()=>n("h2",null," Attachment Selector ",-1)),Lt={class:"attachment-container"},It=["onClick"],Wt=["onClick"],Ot={key:0},Ht=Z(()=>n("p",{class:"center"}," This weapon has no attachments available. ",-1)),Nt=[Ht],Ft={name:"AttachmentSelector",props:["weapon"],data(){return{attachmentData:T,showModal:!1,selectedAttachments:A,keyNames:ne}},methods:{groupAttachments(e){return N.groupAttachments(e)},getAttachments(e){return N.getAttachments(e)},colourClassGiver(e,a){let t="";if(e!=null&&(t+=T[e].rarity.toLowerCase()),A.typeList[this.weapon]){if(A.typeList[this.weapon][a])A.typeList[this.weapon][a]==e&&(t+=" active");else if(e==null)return"active"}else if(e==null)return"active";return t}}},Vt=Object.assign(Ft,{setup(e){const a=x(!1),t=x(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},Tt),n("div",kt,[Pt,(c(!0),u(S,null,C(g(A).typeList[e.weapon],(i,r)=>(c(),u("p",{onClick:h=>g(A).toggleSelected(e.weapon,null,r)},[v(o,{icon:"fas fa-trash"}),V(" "+f(g(T)[i].inGameName),1)],8,$t))),256)),!g(A).list[e.weapon]||g(A).list[e.weapon].length==0?(c(),u("p",xt," None ")):B("",!0)]),(c(),G(z,{to:"#modal"},[v(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",wt,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[v(o,{icon:"fa-solid fa-xmark"})]),Bt,n("div",Lt,[(c(!0),u(S,null,C(l.groupAttachments(e.weapon),(i,r)=>(c(),u("div",{class:"attachment-selector",key:i},[n("h3",null,f(l.keyNames[r]),1),n("p",{onClick:h=>g(A).toggleSelected(e.weapon,null,r),class:k([l.colourClassGiver(null,r),"attachment-item"])}," None ",10,It),(c(!0),u(S,null,C(i,(h,m)=>(c(),u("p",{key:m,class:k([l.colourClassGiver(h,r),"attachment-item"]),onClick:_=>g(A).toggleSelected(e.weapon,h,r)},f(g(T)[h].inGameName)+" ("+f(g(T)[h].rarity)+") ",11,Wt))),128))]))),128)),l.getAttachments(e.weapon).length==0?(c(),u("div",Ot,Nt)):B("",!0)])],512)])):B("",!0)]),_:1})]))],64)}}}),Rt=w(Vt,[["__scopeId","data-v-4b235e82"]]),Et=""+new URL("../calc-images/Body_Chart.png",import.meta.url).href;const J=e=>(W("data-v-4c098318"),e=e(),O(),e),Gt=J(()=>n("img",{src:Et},null,-1)),Kt=[Gt],jt={key:0,class:"modal__bg"},zt=J(()=>n("h2",null," Body Chart ",-1)),Ut=J(()=>n("p",null," Damage per bullet ",-1)),Yt={id:"figure"},qt={id:"head"},Zt={id:"chest"},Jt={id:"hip"},Xt={id:"legs"},Qt=J(()=>n("span",{id:"comment"}," Spuddy \u21B4 ",-1)),ea=ce({props:["weapon"],data(){return{showModal:!1,head:0,chest:0,hip:0,legs:0,selectedAttachments:A,selectedArmor:I}},mounted(){this.updateChart()},methods:{updateChart(){this.head=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*d.s(this.weapon,"weakDamageMultiplier")),this.chest=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*1),this.hip=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*1.1),this.legs=y((d.s(this.weapon,"directDamage")+d.s(this.weapon,"radialDamage"))*d.penetrationMultiplier(this.weapon)*d.s(this.weapon,"amountOfImmediateFires")*.8)}},watch:{selectedAttachments:{deep:!0,handler(){this.updateChart()}},selectedArmor:{deep:!0,handler(){this.updateChart()}}}}),ta=Object.assign(ea,{__name:"BodyChart",setup(e){const a=x(!1),t=x(null);return R(t,()=>a.value=!1),(l,s)=>{const o=M("font-awesome-icon");return c(),u(S,null,[n("button",{class:"",type:"button",onClick:s[0]||(s[0]=E(i=>a.value=!0,["prevent"]))},Kt),(c(),G(z,{to:"#modal"},[v(j,{name:"modal"},{default:K(()=>[a.value?(c(),u("div",jt,[n("section",{class:"modal__content modal__small",ref_key:"modal",ref:t},[n("button",{onClick:s[1]||(s[1]=i=>a.value=!1),class:"modal__close-button","aria-label":"Close Modal",type:"button"},[v(o,{icon:"fa-solid fa-xmark"})]),zt,Ut,n("div",Yt,[n("span",qt,f(l.head),1),n("span",Zt,f(l.chest),1),n("span",Jt,f(l.hip),1),n("span",Xt,f(l.legs),1),Qt])],512)])):B("",!0)]),_:1})]))],64)}}}),aa=w(ta,[["__scopeId","data-v-4c098318"]]);const sa={components:{AttachmentSelector:Rt,BodyChart:aa},data(){return{selectedWeapons:p,selectedArmor:I,selectedTarget:b,selectedHSValue:Y,selectedDistance:q,selectedAttachments:A,selectedWeakspotValue:ee,weaponData:L,keyNames:ne,detailedKeyNames:Se,flippedKeys:be,compareData:[],colourList:{},detailedStats:{},collapsed:!0}},methods:{rarity(e){return"var(--rarity-color-"+["none","common","uncommon","rare","epic","exotic","legendary"][e]+")"},getDetailedStats(e,a){const t=this.detailedStats[e];return t?a?a=="Shield"?Object.keys(t).filter(l=>l.includes("$")).reduce((l,s)=>Object.assign(l,{[s]:t[s]}),{}):a=="Helmet"?Object.keys(t).filter(l=>l.includes("&")).reduce((l,s)=>Object.assign(l,{[s]:t[s]}),{}):t:Object.fromEntries(Object.entries(t).filter(([l])=>!l.includes("%"))):{}},colourClassGiver(e,a){let t=N.getAttachmentEffects(a),l="";if(Object.keys(this.colourList).length!=1)return t[e]&&(l+="modified "),this.colourList[a]&&(l+=this.colourList[a][e]),l},filter(e){let a={};for(let t in e)typeof e[t]!="object"&&t!="inGameName"&&(a[t]=e[t]);return a},updateColourList(){const e=[],a={};for(let t in p.list)e.push(this.weaponData[p.list[t]]),a[p.list[t]]={};for(const t in e[0]){if(typeof d.s(p.list[0],t)!="number")continue;let s=[];for(const i in p.list){const r=d.s(p.list[i],t);typeof r=="number"&&s.push(r)}let o;this.flippedKeys.includes(t)?o=Math.min.apply(null,s):o=Math.max.apply(null,s);for(const i in p.list)s[i]==o?a[p.list[i]][t]="highest-value":a[p.list[i]][t]="lowest-value";if(s.every((i,r,h)=>i===h[0]))for(const i in p.list){let r=p.list[i];a[r][t]="equal-value"}}this.colourList=a},updateDetailedStats(){const e={};for(let a in p.list){let t=p.list[a];e[t]={},e[t].penetrationMultiplier=y(d.penetrationMultiplier(t)),e[t].roundsPerMinute=Math.round(d.roundsPerMinute(t)),e[t].adjustedRPM=Math.round(d.roundsPerMinuteReloadAdjusted(t)),e[t].damagePerSecond=Math.round(d.damagePerSecond(t)),e[t].adjustedDPS=Math.round(d.damagePerSecondReloadAdjusted(t)),e[t].damagePerMag=Math.round(d.damagePerMag(t)),e[t].timeToEmpty=y(d.totalTimeToEmptyMag(t)),e[t].shotsToKill=Math.round(d.shotsToKill(t)),e[t].timeToKill=y(d.timeToKill(t)),e[t].dmgPerBullet=y(d.damageOnBodyShot(t)),e[t].dmgPerBulletHS=y(d.damageOnWeakSpotShot(t)),e[t]["noShield$%"]=Math.round(d.shotsToKill(t,0,0,"special")),e[t]["commonShield$%"]=Math.round(d.shotsToKill(t,P.Shield_01.armorAmount,0,"special")),e[t]["uncommonShield$%"]=Math.round(d.shotsToKill(t,P.Shield_02.armorAmount,0,"special")),e[t]["rareShield$%"]=Math.round(d.shotsToKill(t,P.Shield_03.armorAmount,0,"special")),e[t]["epicShield$%"]=Math.round(d.shotsToKill(t,P.Shield_04.armorAmount,0,"special")),e[t]["exoticShield$%"]=Math.round(d.shotsToKill(t,P.Shield_05.armorAmount,0,"special")),e[t]["legendaryShield$%"]=Math.round(d.shotsToKill(t,P.Shield_Altered_03.armorAmount,0,"special")),e[t]["noHelmet&%"]=Math.round(d.shotsToKill(t,0,100,"special")),e[t]["commonHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_01.armorAmount,100,"special")),e[t]["uncommonHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_02.armorAmount,100,"special")),e[t]["rareHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_03.armorAmount,100,"special")),e[t]["epicHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_04.armorAmount,100,"special")),e[t]["exoticHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_05.armorAmount,100,"special")),e[t]["legendaryHelmet&%"]=Math.round(d.shotsToKill(t,H.Helmet_Altered_03.armorAmount,100,"special"))}this.detailedStats=e;for(let a in e[p.list[0]]){let t=[];for(let s in p.list)t.push(e[p.list[s]][a]);let l;this.flippedKeys.includes(a)||a.includes("%")?l=Math.min.apply(null,t):l=Math.max.apply(null,t);for(let s in p.list)t[s]==l?this.colourList[p.list[s]][a]="highest-value":this.colourList[p.list[s]][a]="lowest-value";if(t.every((s,o,i)=>s===i[0]))for(let s in p.list)this.colourList[p.list[s]][a]="equal-value"}},stat(e,a){return d.s(e,a)},attachmentStat(e,a){let l=N.getAttachmentEffects(e)[a];if(!!l){if(l.type=="Additive")return"+ "+l.value+" = "+this.stat(e,a);if(l.type=="Multiplicitive_PreAdd"){let s=this.weaponData[e][a],o=this.stat(e,a),i=y(o-s),r=Math.round((l.value-1)*100);return a=="ammoInClip"?(i>0?"+"+Math.round(i):Math.round(i))+" ("+(r>0?"+"+r:r)+"%) = "+Math.round(this.stat(e,a)):(i>0?"+"+i:i)+" ("+(r>0?"+"+r:r)+"%) = "+y(this.stat(e,a))}if(l.type=="Override")return"\u2192 "+l.value+" = "+this.stat(e,a)}}},watch:{selectedWeapons:{deep:!0,handler(){this.updateColourList(),this.updateDetailedStats(),F(),U()}},selectedAttachments:{deep:!0,handler(){this.updateColourList(),this.updateDetailedStats(),F(),U()}},selectedTarget:{deep:!0,handler(){this.updateDetailedStats(),F()}},selectedArmor:{deep:!0,handler(){this.updateDetailedStats(),F()}},selectedHSValue:{deep:!0,handler(){this.updateDetailedStats()}},selectedDistance:{deep:!0,handler(){this.updateDetailedStats(),U()}},selectedWeakspotValue:{deep:!0,handler(){this.updateDetailedStats()}}},mounted(){this.updateColourList(),this.updateDetailedStats()}},ae=e=>(W("data-v-8bcba829"),e=e(),O(),e),la={class:"table-container"},ia={class:"flex-item header-row"},na=V(" Stats "),oa=ae(()=>n("span",null," Expand stats ",-1)),ra={key:0},ca=ae(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[n("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"})],-1)),da=[ca],ua={key:1},ma=ae(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[n("path",{d:"M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"})],-1)),ha=[ma],pa=ie("<h2 data-v-8bcba829>Detailed Stats</h2><p data-v-8bcba829><span data-v-8bcba829> Penetration Multiplier </span></p><p data-v-8bcba829><span data-v-8bcba829> Rounds per Minute </span></p><p data-v-8bcba829><span data-v-8bcba829> Reload Adjust RPM </span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Second (Approx)</span></p><p data-v-8bcba829><span data-v-8bcba829> Reload Adjusted DPS (Approx)</span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Mag </span></p><p data-v-8bcba829><span data-v-8bcba829> Time to Empty Mag (s) </span></p><p data-v-8bcba829><span data-v-8bcba829> Shots to Kill </span></p><p data-v-8bcba829><span data-v-8bcba829> Time to Kill (s) </span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Bullet</span></p><p data-v-8bcba829><span data-v-8bcba829> Damage per Bullet (HS) </span></p><h2 data-v-8bcba829>Shots to Kill</h2><p data-v-8bcba829><span data-v-8bcba829> Shield </span></p><p data-v-8bcba829><span data-v-8bcba829> Helmet </span></p>",15),_a={class:"inner-container"},fa={class:"flex-item"},ga=["src"],va=["src"],Sa=["src"],ba={class:"small"},ya={class:"small"},Ma={class:"button-container"},Da={class:"delete-button"},Ca=["onClick"];function Aa(e,a,t,l,s,o){const i=M("BodyChart"),r=M("AttachmentSelector"),h=de("tooltip");return c(),u("section",la,[n("div",ia,[n("h2",null,[na,oa,te((c(),u("span",{class:"collapse-button",onClick:a[0]||(a[0]=m=>s.collapsed=!s.collapsed),role:"button","aria-label":"Collapse this section"},[s.collapsed?(c(),u("span",ua,ha)):(c(),u("span",ra,da))])),[[h,{content:"Collapse/Expand stats"}]])]),n("div",{class:k(["stats-wrapper",{collapsed:s.collapsed}])},[(c(!0),u(S,null,C(o.filter(s.weaponData.WP_A_Pistol_Bullet_01),(m,_)=>(c(),u("p",null,[n("span",null,f(s.keyNames[_]),1)]))),256))],2),pa]),n("div",_a,[(c(!0),u(S,null,C(s.selectedWeapons.list,m=>(c(),u("div",fa,[n("h2",null,[V(f(s.weaponData[m].inGameName)+" ",1),n("img",{class:"weapon-image",src:"calc-images/"+s.weaponData[m].inGameName+".png"},null,8,ga)]),n("div",{class:k(["stats-wrapper",{collapsed:s.collapsed}])},[(c(!0),u(S,null,C(o.filter(s.weaponData[m]),(_,D)=>(c(),u("p",null,[n("span",{class:k(o.colourClassGiver(D,m))},f(_)+" "+f(o.attachmentStat(m,D)),3)]))),256))],2),n("h2",null,[V(f(s.weaponData[m].inGameName)+" ",1),n("img",{class:"weapon-image",src:"calc-images/"+s.weaponData[m].inGameName+".png"},null,8,va)]),(c(!0),u(S,null,C(o.getDetailedStats(m,void 0),(_,D)=>(c(),u("p",null,[n("span",{class:k(o.colourClassGiver(D,m))},f(_),3)]))),256)),n("h2",null,[V(f(s.weaponData[m].inGameName)+" ",1),n("img",{class:"weapon-image",src:"calc-images/"+s.weaponData[m].inGameName+".png"},null,8,Sa)]),n("p",ba,[(c(!0),u(S,null,C(o.getDetailedStats(m,"Shield"),(_,D,X)=>(c(),u("span",{class:k(o.colourClassGiver(D,m)),style:se({"--clr":o.rarity(X)})},f(_),7))),256))]),n("p",ya,[(c(!0),u(S,null,C(o.getDetailedStats(m,"Helmet"),(_,D,X)=>(c(),u("span",{class:k(o.colourClassGiver(D,m)),style:se({"--clr":o.rarity(X)})},f(_),7))),256))]),n("div",Ma,[v(i,{weapon:m},null,8,["weapon"]),v(r,{weapon:m},null,8,["weapon"])]),n("div",Da,[n("button",{onClick:_=>s.selectedWeapons.toggleSelected(m)},"Remove Weapon",8,Ca)])]))),256))])])}const Ta=w(sa,[["render",Aa],["__scopeId","data-v-8bcba829"]]);const ka={components:{Selector:Mt,WeaponComparer:Ta,AccuracySelector:oe,DistanceSelector:re},mounted(){window.history.pushState({},document.title,location.pathname.replace(".html","")),F(),U(),ue()}},Pa=e=>(W("data-v-326c3483"),e=e(),O(),e),$a=Pa(()=>n("div",{class:"header"},[n("h1",null,"Weapon Calculator")],-1)),xa={class:"main-container"},wa=ie('<section data-v-326c3483><div class="header" data-v-326c3483><header data-v-326c3483><h1 data-v-326c3483>Charts</h1></header><p data-v-326c3483>The following charts show the detailed stats above in a visual way. More charts will be added in the future.</p></div><div class="outer-chart-container" data-v-326c3483><div class="chart-container" data-v-326c3483><h2 data-v-326c3483>Penetration Chart</h2><div class="inner-chart-container" data-v-326c3483><div id="penChart" data-v-326c3483>CHART HERE!</div></div></div><div class="chart-container" data-v-326c3483><h2 data-v-326c3483>Falloff Chart</h2><div class="inner-chart-container" data-v-326c3483><div id="falloffChart" data-v-326c3483>Chart HERE!</div></div></div></div></section>',1);function Ba(e,a,t,l,s,o){const i=M("Selector"),r=M("WeaponComparer");return c(),u("section",null,[n("section",null,[$a,n("div",xa,[v(i),v(r)])]),wa])}const La=w(ka,[["render",Ba],["__scopeId","data-v-326c3483"]]),Ia=me(La).component("font-awesome-icon",he.FontAwesome).use(pe).use(_e);Ia.mount("main");
